<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <input type="text"  id="txtnhap">
    <button id=addnhap>ADD</button>
    <ul id=danhsachkhongdanhso>
    </ul>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>

        //phai cai json npm install -g json-server
        //sau do phai cho file ajaxdemo vao json-server --watch ajaxdemo.json
        //start server: json-server --watch ajaxdemo.json --port 9081 de doi cong
//chu y can co t<script src="https://unpkg.com/axios/dist/axios.min.js"> de tao server lay du lieu 
    // trang web axios https://github.com/axios/axios
        var keystogare='key';
       // var hocsinh=["take shower","go to bed","brush teeth"];
      var hocsinh=JSON.parse(localStorage.getItem(keystogare));//chuyen JSON VE LAI OJIECT
      //chu y cu phap 
      axios.get('http://localhost:9081/todo').then(function(dulieu){
          var item=dulieu.data;
         render(item);
      })
       
      
        var btnnhap=document.getElementById('addnhap');
       btnnhap.addEventListener('click',themvao);
       var txtnhapvao=document.getElementById("txtnhap");
      
        txtnhapvao.addEventListener("change",updatesessionstogare);//ham sesion stogare
        function updatesessionstogare ()
        {
            sessionStorage.setItem(keystogare,txtnhapvao.value);
        }
        txtnhapvao.value=sessionStorage.getItem(keystogare);
        function themvao()
        {
            hocsinh.push(txtnhapvao.value);
          //  render();
          //  txtnhapvao.value="";
            txtnhapvao.value='';
            txtnhapvao.focus();
            localStorage.setItem(keystogare,JSON.stringify(hocsinh));
        }
        hocsinh.push
        function render(item)
        {
            var danhsach=document.getElementById('danhsachkhongdanhso');
            var danhsach2=item.map(function(a){
            return "<li>"+a.content+"</li>";
        })
        danhsach.innerHTML=danhsach2.join('');
        }
        
     //   render();
        
    </script>
</body>

</html>